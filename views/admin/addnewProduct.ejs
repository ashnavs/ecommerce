<%- include('../partials/adminHeader') %>

    <%- include('../partials/adminSidebar') %>

        <body>



            <div class="page-body">
                <!-- New Product Add Start -->
                <form action="/admin/addnewProduct" method="post" enctype="multipart/form-data" id="productForm">
                    

                    <div class="container-fluid">
                        <div class="row theme-form theme-form-2 mega-form">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-sm-8 m-auto">
                                        <div class="card">
                                            <div class="card-body">
                                                <div class="card-header-2">
                                                    <h5>Product Information</h5>
                                                </div>




                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Product Name</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" name="name"
                                                            placeholder="Product Name" id="name">
                                                        <small class="text-danger" id="nameError"></small>
                                                    </div>
                                                </div>




                                                <div class="mb-4 row align-items-center">
                                                    <label
                                                        class="col-sm-3 col-form-label form-label-title">Category</label>

                                                    <div class="col-sm-9">
                                                        <select class="" name="category">
                                                            <option disabled>Category Menu</option>
                                                            <% allCategory.forEach(category=>{%>
                                                                <option value="<%=category._id%>">
                                                                    <%= category.name %>
                                                                </option>
                                                                <% }) %>

                                                        </select>
                                                    </div>
                                                </div>





                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Brand</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" id="brand" name="brand"
                                                            placeholder="Brand">
                                                        <small class="text-danger" id="brandError"></small>
                                                    </div>
                                                </div>


                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Quantity</label>
                                                    <div class="col-sm-9">
                                                        <input type="number" class="form-control" name="quantity"
                                                            placeholder="Quantity" id="quantity">
                                                        <small class="text-danger" id="quantityError"></small>
                                                    </div>
                                                </div>





                                            </div>
                                        </div>


                                        <div class="card">
                                            <div class="card-body">
                                                <div class="card-header-2">
                                                    <h5>Product Specification</h5>
                                                </div>



                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Model</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" name="model"
                                                            placeholder="Model" id="model">
                                                        <small class="text-danger" id="modelError"></small>
                                                    </div>
                                                </div>

                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Ram</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" name="ram"
                                                            placeholder="RAM" id="ram">
                                                        <small class="text-danger" id="ramError"></small>

                                                    </div>
                                                </div>
                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Storage Space</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" name="storage"
                                                            placeholder="Storage" id="storage">
                                                        <small class="text-danger" id="storageError"></small>

                                                    </div>
                                                </div>



                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Processor</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" name="processor"
                                                            placeholder="Processor" id="processor">
                                                        <small class="text-danger" id="processorError"></small>

                                                    </div>
                                                </div>

                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Screen Size</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" name="screenSize"
                                                            placeholder="Screen Size" id="screenSize">
                                                        <small class="text-danger" id="screenSizeError"></small>

                                                    </div>
                                                </div>

                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">Graphics Card</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control" name="graphicsCard"
                                                            id="graphicsCard" placeholder="Graphics Card">
                                                        <small class="text-danger" id="graphicsCardError"></small>

                                                    </div>
                                                </div>

                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">OS
                                                        Architecture</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" name="osArchitecture"
                                                            placeholder="OS Architecture" class="form-control"
                                                            id="osArchitecture">
                                                        <small class="text-danger" id="osArchitectureError"></small>

                                                    </div>
                                                </div>

                                                <div class="mb-4 row align-items-center">
                                                    <label class="form-label-title col-sm-3 mb-0">OS</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" name="os" placeholder="OS"
                                                            class="form-control" id="os">
                                                        <small class="text-danger" id="osError"></small>

                                                    </div>
                                                </div>




                                            </div>
                                        </div>








                                        <div class="card">
                                            <div class="card-body">
                                                <div class="card-header-2">
                                                    <h5>Description</h5>
                                                </div>
                                                <div class="row theme-form theme-form-2 mega-form">
                                                    <div class="col-12">
                                                        <div class="row">
                                                            <label class="form-label-title col-sm-3 mb-0 ">Product
                                                                Description</label>
                                                            <div class="col-sm-9">

                                                                <div> <input type="text" name="description"
                                                                        placeholder="Product Description"
                                                                        class="form-control" id="description">
                                                                    <small class="text-danger"
                                                                        id="descriptionError"></small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card-body">
                                                <div class="card-header-2">
                                                    <h5>Product Images</h5>
                                                </div>

                                                <div class="mb-4 row align-items-center">
                                                    <label
                                                        class="col-sm-3 col-form-label form-label-title">Images</label>

                                                    <div class="col-sm-9">
                                                        <input class="form-control form-choose" type="file"
                                                            id="formFile" name="productImage" multiple>
                                                    </div>
                                                    <span>(upto - 4 images)</span>
                                                </div>




















                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="card-header-2">
                                                            <h5>Product Price</h5>
                                                        </div>


                                                        <div class="mb-4 row align-items-center">
                                                            <label class="col-sm-3 form-label-title">price</label>
                                                            <div class="col-sm-9">
                                                                <input type="number" name="price" placeholder="Price"
                                                                    class="form-control" id="price">
                                                                <small class="text-danger" id="priceError"></small>
                                                            </div>
                                                        </div>
                                                        <div class="mb-4 row align-items-center">
                                                            <label class="col-sm-3 form-label-title">Discount
                                                                Percentage</label>
                                                            <div class="col-sm-9">
                                                                <input type="number" name="discountPercentage"
                                                                    placeholder="Discount Percentage" class="form-control"
                                                                    id="discountPercentage">
                                                                <small class="text-danger"
                                                                    id="discountPercentageError"></small>

                                                            </div>
                                                        </div>


                                                    </div>
                                                </div>

                                                <div class="mb-4 row align-items-center">
                                                    <div class="col-sm-9 offset-sm-3">
                                                        <small class="text-danger" id="generalError"></small>
                                                    </div>
                                                </div>



                                                <div class="col-4 col-3 ">
                                                    <button type="submit" class="btn btn-primary w-70  h-100 "
                                                        onclick="">Add
                                                        Product</button>
                                                </div>

                                                <br>



                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div>
                </form>


            </div>
        
             <!-- <script>
                function addProduct() {
                    console.log('addProduct() called');
                    event.preventDefault();
                    if (validateForm()) {
                        document.getElementById('productForm').submit(); // Submit the form
            

                    }
                }
            
                function validateForm() {
                    console.log('validateForm() called');
            
                    // Reset error messages
                    resetErrorMessages();
            
                    // Get form values
                    var name = document.getElementById('name').value.trim();
                    var brand = document.getElementById('brand').value.trim();
                    var quantity = document.getElementById('quantity').value.trim();
                    var model = document.getElementById('model').value.trim();
                    var ram = document.getElementById('ram').value.trim();
                    var storage = document.getElementById('storage').value.trim();
                    var processor = document.getElementById('processor').value.trim();
                    var screenSize = document.getElementById('screenSize').value.trim();
                    var graphicsCard = document.getElementById('graphicsCard').value.trim();
                    var osArchitecture = document.getElementById('osArchitecture').value.trim();
                    var os = document.getElementById('os').value.trim();
                    var description = document.getElementById('description').value.trim();
                    var price = document.getElementById('price').value.trim();
                    var discountPrice = document.getElementById('discountPrice').value.trim();
            
                    // Check if at least one field is filled
                    if (
                        name === '' && brand === '' && quantity === '' && model === '' &&
                        ram === '' && storage === '' && processor === '' && screenSize === '' &&
                        graphicsCard === '' && osArchitecture === '' && os === '' &&
                        description === '' && price === '' && discountPrice === ''
                    ) {
                        document.getElementById('generalError').innerText = 'Please fill in at least one field';
                        return false;
                    } else {
                        document.getElementById('generalError').innerText = ''; // Clear general error message
                    }
            
                    // Validate each field
                    validateField(name, 'nameError', 'Please enter a product name');
                    validateField(brand, 'brandError', 'Please enter a brand');
                    validateField(quantity, 'quantityError', 'Please enter a valid quantity', true);
                    validateField(model, 'modelError', 'Please enter a model');
                    validateField(ram, 'ramError', 'Please enter RAM information');
                    validateField(storage, 'storageError', 'Please enter storage information');
                    validateField(processor, 'processorError', 'Please enter processor information');
                    validateField(screenSize, 'screenSizeError', 'Please enter screenSize information');
                    validateField(graphicsCard, 'graphicsCardError', 'Please enter graphicsCard information');
                    validateField(osArchitecture, 'osArchitectureError', 'Please enter a valid OS Architecture', true);
                    validateField(os, 'osError', 'Please enter os information');
                    validateField(description, 'descriptionError', 'Please enter a product description');
                    validateField(price, 'priceError', 'Please enter a valid price', true);
                    validateField(discountPrice, 'discountPriceError', 'Please enter a valid discountPrice', true);
            
                    // Check if any errors occurred
                    return document.querySelectorAll('.text-danger').length === 0;
                }
            
                function validateField(value, errorId, errorMessage, numeric = false) {
                    const errorElement = document.getElementById(errorId);
            
                    if (value === '') {
                        displayErrorMessage(errorElement, 'This field is required');
                    } else if (numeric && (isNaN(value) || parseFloat(value) <= 0)) {
                        displayErrorMessage(errorElement, errorMessage);
                    } else {
                        errorElement.innerText = ''; // Clear the error message
                    }
                }
            
                function displayErrorMessage(errorElement, message) {
                    errorElement.innerText = message;
                    errorElement.style.color = 'red';
                }
            
                function resetErrorMessages() {
                    // Reset all error messages
                    var errorIds = [
                        'nameError', 'brandError', 'quantityError', 'modelError',
                        'ramError', 'storageError', 'processorError', 'screenSizeError',
                        'graphicsCardError', 'osArchitectureError', 'osError',
                        'descriptionError', 'priceError', 'discountPriceError'
                    ];
            
                    errorIds.forEach(function (errorId) {
                        document.getElementById(errorId).innerText = '';
                    });
            
                    document.getElementById('generalError').innerText = ''; // Clear general error message
                }
            </script>  -->


           <script>
                document.addEventListener('DOMContentLoaded', function () {
                    document.getElementById('productForm').addEventListener('submit', function (event) {
                        event.preventDefault();
                        clearErrors();

            var name = document.getElementById('name').value.trim();
            var category = document.getElementsByName('category')[0].value.trim();
            var brand = document.getElementById('brand').value.trim();
            var quantity = document.getElementById('quantity').value.trim();
            var model = document.getElementById('model').value.trim();
            var ram = document.getElementById('ram').value.trim();
            var storage = document.getElementById('storage').value.trim();
            var processor = document.getElementById('processor').value.trim();
            var screenSize = document.getElementById('screenSize').value.trim();
            var graphicsCard = document.getElementById('graphicsCard').value.trim();
            var osArchitecture = document.getElementById('osArchitecture').value.trim();
            var os = document.getElementById('os').value.trim();
            var description = document.getElementById('description').value.trim();
            var price = document.getElementById('price').value.trim();
            var discountPercentage = document.getElementById('discountPercentage').value.trim();
            var productImage = document.getElementById('formFile').value.trim();

            var nameError = document.getElementById('nameError');
            var brandError = document.getElementById('brandError');
            var quantityError = document.getElementById('quantityError');
            var modelError = document.getElementById('modelError');
            var ramError = document.getElementById('ramError');
            var storageError = document.getElementById('storageError');
            var processorError = document.getElementById('processorError');
            var screenSizeError = document.getElementById('screenSizeError');
            var graphicsCardError = document.getElementById('graphicsCardError');
            var osArchitectureError = document.getElementById('osArchitectureError');
            var osError = document.getElementById('osError');
            var descriptionError = document.getElementById('descriptionError');
            var priceError = document.getElementById('priceError');
            var discountPercentageError = document.getElementById('discountPercentageError');
            var generalError = document.getElementById('generalError');

            if (!name) {
                nameError.textContent = 'Product Name is required';
            }

            if (category === 'undefined' || category === null || category === '') {
                // Adjust the condition as needed based on your actual option values
                generalError.textContent = 'Please select a valid category';
            }

            if (!brand) {
                brandError.textContent = 'Brand is required';
            }

            if (!quantity || isNaN(quantity) || quantity <= 0) {
                quantityError.textContent = 'Quantity must be a positive number';
            }

            if (!model) {
                modelError.textContent = 'Model is required';
            }

            if (!ram) {
                ramError.textContent = 'RAM is required';
            }

            if (!storage) {
                storageError.textContent = 'Storage is required';
            }

            if (!processor) {
                processorError.textContent = 'Processor is required';
            }

            if (!screenSize) {
                screenSizeError.textContent = 'Screen Size is required';
            }

            if (!graphicsCard) {
                graphicsCardError.textContent = 'Graphics Card is required';
            }

            if (!osArchitecture) {
                osArchitectureError.textContent = 'OS Architecture is required';
            }

            if (!os) {
                osError.textContent = 'OS is required';
            }

            if (!description) {
                descriptionError.textContent = 'Product Description is required';
            }

            if (!price || isNaN(price) || price <= 0) {
                priceError.textContent = 'Price must be a positive number';
            }

            if (discountPercentage && (isNaN(discountPercentage) || discountPercentage <= 0)) {
                discountPercentageError.textContent = 'Discount Price must be a positive number';
            }

            if (
                generalError.textContent ||
                nameError.textContent ||
                brandError.textContent ||
                quantityError.textContent ||
                modelError.textContent ||
                ramError.textContent ||
                storageError.textContent ||
                processorError.textContent ||
                screenSizeError.textContent ||
                graphicsCardError.textContent ||
                osArchitectureError.textContent ||
                osError.textContent ||
                descriptionError.textContent ||
                priceError.textContent ||
                discountPercentageError.textContent
                // Add conditions for other fields...
            ) {
                return; // If there are validation errors, prevent form submission
            }

            // If you reach here, the form is valid, you can proceed with form submission
            console.log('Form is valid, submitting...');
            document.getElementById('productForm').submit(); // Uncomment this line to submit the form
        });

        function clearErrors() {
            var errorElements = document.querySelectorAll('.text-danger');
            errorElements.forEach(function (element) {
                element.textContent = '';
            });
        }
    });
</script>  

            
           


            <!--image crop-->
            <script src="./node_modules/cropperjs/dist/cropper.min.css"></script>

            <!-- latest js -->
            <script src="/assetsb/js/jquery-3.6.0.min.js"></script>

            <!-- Bootstrap js -->
            <script src="/assetsb/js/bootstrap/bootstrap.bundle.min.js"></script>

            <!-- feather icon js -->
            <script src="/assetsb/js/icons/feather-icon/feather.min.js"></script>
            <script src="/assetsb/js/icons/feather-icon/feather-icon.js"></script>

            <!-- scrollbar simplebar js -->
            <script src="/assetsb/js/scrollbar/simplebar.js"></script>
            <script src="/assetsb/js/scrollbar/custom.js"></script>

            <!-- Sidebar js -->
            <script src="/assetsb/js/config.js"></script>

            <!-- bootstrap tag-input js -->
            <script src="/assetsb/js/bootstrap-tagsinput.min.js"></script>
            <script src="/assetsb/js/sidebar-menu.js"></script>

            <!-- customizer js -->
            <script src="/assetsb/js/customizer.js"></script>

            <!--Dropzon js -->
            <script src="/assetsb/js/dropzone/dropzone.js"></script>
            <script src="/assetsb/js/dropzone/dropzone-script.js"></script>

            <!-- Plugins js -->
            <script src="/assetsb/js/notify/bootstrap-notify.min.js"></script>
            <script src="/assetsb/js/notify/index.js"></script>

            <!-- ck editor js -->
            <script src="/assetsb/js/ckeditor.js"></script>
            <script src="/assetsb/js/ckeditor-custom.js"></script>

            <!-- select2 js -->
            <script src="/assetsb/js/select2.min.js"></script>
            <script src="/assetsb/js/select2-custom.js"></script>

            <!-- sidebar effect -->
            <script src="/assetsb/js/sidebareffect.js"></script>

            <!-- Theme js -->
            <script src="/assetsb/js/script.js"></script>

            <!--crop modal-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.min.js"
                integrity="sha512-E4KfIuQAc9ZX6zW1IUJROqxrBqJXPuEcDKP6XesMdu2OV4LW7pj8+gkkyx2y646xEV7yxocPbaTtk2LQIJewXw=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.5/cropper.min.css"
                integrity="sha512-Aix44jXZerxlqPbbSLJ03lEsUch9H/CmnNfWxShD6vJBbboR+rPdDXmKN+/QjISWT80D4wMjtM4Kx7+xkLVywQ=="
                crossorigin="anonymous" referrerpolicy="no-referrer" />



        </body>


        <!-- Mirrored from themes.pixelstrap.com/fastkart/back-end/add-new-product.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 04 Sep 2023 05:49:46 GMT -->



        </html>